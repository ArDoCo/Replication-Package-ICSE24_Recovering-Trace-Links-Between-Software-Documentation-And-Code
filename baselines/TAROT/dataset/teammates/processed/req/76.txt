high level workflow process request request differ request type templat method pattern abstract process flow action autom action class 